@model iLoyalty.Models.MLModel

@{
    ViewData["Title"] = "Index";
}

<div class="container m-0 p-0">
    <h4 class="text-info">Admin Dashboard</h4>
    <div class="row border p-3">
        <div class="col-6 p-3">
            @using (Html.BeginForm("Index", "DashBoard", FormMethod.Post))
            {
                <h5 class="text-info">iLoyalty Models</h5>
                <hr />
                <div class="form-group">
                    <label class="text-info">Model</label>
                    @*@Html.DropDownListFor(m => m.List, Model.List, "--Select Model--")*@
                    @Html.DropDownListFor(m => m.id, new SelectList(Model.ListModels, "id", "model_name"), "Select Prediction Model", new { @class = "form-control" })
                </div>
                <div class="form-group">
                    <label class="text-info">Start Date</label>
                    <input value="Select Date" readonly="readonly" class="form-control datepicker" />

                    @*
                            //for model use
                            @Html.EditorFor(m => m.create_date,
                        new
                             {
                                 htmlAttributes = new
                                 {
                            @readonly = "true",
                                     Value = Model.create_date.ToString("dd-MM-yyyy"),
                            @class = "form-control datepicker"
                        }
                             })*@
                </div>
                <div class="form-group">
                    <label class="text-info">End Date</label>
                    <input value="Select Date" readonly="readonly" class="form-control datepicker" />
                </div>
                <br />
                <div class="form-group">
                    <input type="submit" value="PREDICT" class="btn btn-info form-control text-white" />
                </div>
            }
        </div>
        <div class="col-6 p-3 border">
            <div class="row">
                <div class="col-12">
                    <h5 class="text-info">Model Information</h5>
                    <hr />
                    <div>
                        <label class="text-info">Model ID: </label>
                        @ViewBag.SelectedModelID
                    </div>
                    <div>
                        <label class="text-info">Model Name: </label>
                        @ViewBag.SelectedModelName
                    </div>
                    <div>
                        <label class="text-info">Created By: </label>
                        @ViewBag.SelectedModelCreator
                    </div>
                    <div>
                        <label class="text-info">Date Created: </label>
                        @ViewBag.SelectedModelDate
                    </div>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-12">
                    <h5 class="text-info">Evaluation Details</h5>
                    <hr />
                    <div>
                        <label class="text-muted">Precision: </label>
                        @ViewBag.precision
                    </div>
                    <div>
                        <label class="text-muted">Recall: </label>
                        @ViewBag.recall
                    </div>
                    <div>
                        <label class="text-muted">Accuracy: </label>
                        @ViewBag.accuracy
                    </div>
                    <div>
                        <label class="text-muted">F1_Score: </label>
                        @ViewBag.f1_score
                    </div>
                    <div>
                        <label class="text-muted">log_loss: </label>
                        @ViewBag.log_loss
                    </div>
                    <div>
                        <label class="text-muted">roc_auc: </label>
                        @ViewBag.roc_auc
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br />
    @if (ViewBag.SelectedModelID != null)
    {
        <div class="row">
            <div class="col-9">
                <h4 class="text-info">Prediction Results</h4>
            </div>
            <div class="col-3">
                <a asp-page="/DashBoard/Index" class="btn btn-danger form-control text-white">CLEAR</a>
            </div>
        </div>
        <br />
        <div class="row border p-3">
            <div class="col-12">
                <table id="DT_load" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Address</th>
                            <th>Phone No</th>
                            <th>Email</th>
                            <th>Churn</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    }
</div>

@section Scripts{
    <script src="~/js/model.js"></script>
}
